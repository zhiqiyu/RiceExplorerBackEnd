(this.webpackJsonprice_explorer=this.webpackJsonprice_explorer||[]).push([[0],{214:function(e,t,a){},262:function(e,t){},287:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),i=(a(214),a(16)),l=a(313),o=a(296),d=a(315),j=a(46),u=a(1),b=function(){return Object(u.jsx)("header",{children:Object(u.jsx)(l.a,{bg:"dark",variant:"dark",expand:"lg",className:"header",fixed:"top",children:Object(u.jsxs)(o.a,{fluid:!0,children:[Object(u.jsx)(l.a.Brand,{href:"/",children:"Crop Mapping Explorer"}),Object(u.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(d.a,{className:"me-auto",children:[Object(u.jsx)(d.a.Link,{to:"/phenology",as:j.b,children:"Phenology Explorer"}),Object(u.jsx)(d.a.Link,{to:"/empirical",as:j.b,children:"Empirical Thresholding"}),Object(u.jsx)(d.a.Link,{to:"/classification",as:j.b,children:"Classification"})]})})]})})})},p=a(8),h=a(19),m="home",O="empirical",f="phenology",x="classification",v=Object(h.b)({name:"appName",initialState:null,reducers:{setAppName:function(e,t){return t.payload}}}),g=v.actions.setAppName,y=v.reducer;var N=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){e(g(m))}),[]),Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Hello"})})},S=a(9),A=Object(h.b)({name:"appStatus",initialState:"Ready",reducers:{setStatus:function(e,t){return t.payload}}}),C=(A.actions.setStatus,A.reducer);var I=function(e){var t=Object(p.c)((function(e){return e.appStatus}));return Object(u.jsx)("div",{className:"app-status-bar align-items-center d-flex position-absolute",children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsxs)("h6",{className:"mb-0",children:["App Status: ",Object(u.jsx)("b",{children:t})]})})})},_=a(37),k=a(301),T=a(302),L=a(317),w=(a(226),a(17)),E=a.n(w),P=a(141),R=["sowing","peak","harvesting"],D={upload:"Upload boundary file (shp)",MORANG:"MORANG",SUNSARI:"SUNSARI",JHAPA:"JHAPA",MAHOTTARI:"MAHOTTARI",PARSA:"PARSA",RAUTAHAT:"RAUTAHAT",SAPTARI:"SAPTARI",SARLAHI:"SARLAHI",SIRAHA:"SIRAHA",BARA:"BARA",DHANUSHA:"DHANUSHA",CHITAWAN:"CHITAWAN",NAWALPARASI_E:"NAWALPARASI_E",KAPILBASTU:"KAPILBASTU",NAWALPARASI_W:"NAWALPARASI_W",RUPANDEHI:"RUPANDEHI",BANKE:"BANKE",BARDIYA:"BARDIYA",DANG:"DANG",KAILALI:"KAILALI",KANCHANPUR:"KANCHANPUR"},G={radar:{"COPERNICUS/S1_GRD":"Sentinel-1 SAR GRD: C-band Synthetic Aperture Radar Ground Range Detected, log scaling"},optical:{"MODIS/006/MOD13Q1":"MOD13Q1.006 Terra Vegetation Indices 16-Day Global 250m","LANDSAT/LT05/C01/T1_TOA":"USGS Landsat 5 TM Collection 1 Tier 1 TOA Reflectance","LANDSAT/LT05/C01/T1_SR":"USGS Landsat 5 Surface Reflectance Tier 1","LANDSAT/LC08/C01/T1_TOA":"USGS Landsat 8 Collection 1 Tier 1 TOA Reflectance","COPERNICUS/S2":"Sentinel-2 MSI: MultiSpectral Instrument, Level-1C","COPERNICUS/S2_SR":"Sentinel-2 MSI: MultiSpectral Instrument, Level-2A"}},M={VH:"VH band",VV:"VV band","VH/VV":"VH/VV (cross ratio)"},U={NDVI:"NDVI",EVI:"EVI",NDWI:"NDWI",MNDWI:"MNDWI"},V={"Google Maps":{url:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:"Google"},"Google Satellite":{url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:"Google"},"Google Terrain":{url:"https://mt1.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",attribution:"Google"},"ESRI World Imagery":{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},H=Object(h.b)({name:"editing",initialState:!1,reducers:{toggle:function(e){return!e}}}),F=H.actions.toggle,B=H.reducer,K=a(34),W=a.n(K),z=a(135),J=a(136),q=a.n(J),X=a(297),Q=a(314),Y=a(311),$=a(316),Z=a(137),ee=a.n(Z),te=a(13),ae=a.n(te),ne=a(2),ce=Object(h.b)({name:"samples",initialState:{selected:null,geojson:{type:"FeatureCollection",features:[]},classProperty:{name:null,positiveValue:null}},reducers:{replace:function(e,t){return e.geojson=t.payload,e.selected=null,e},addFeatures:function(e,t){return e.geojson.features.push(t.payload),e},deleteFeature:function(e,t){var a=e.geojson.features.findIndex((function(e,a){return e.properties[me]===t.payload}));e.geojson.features.splice(a,1)},selectFeature:function(e,t){e.selected=t.payload},setClassProperty:function(e,t){e.classProperty=Object(ne.a)(Object(ne.a)({},e.classProperty),t.payload)}}}),re=ce.actions,se=re.replace,ie=(re.addFeatures,re.deleteFeature),le=re.selectFeature,oe=re.setClassProperty,de=ce.reducer,je=a(138),ue=a(298),be=a(299),pe=a(300),he=a(140),me="_$id";function Oe(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),c=Object(S.a)(a,2),r=c[0],s=c[1],i=Object(p.c)((function(e){return e.samples}));Object(p.b)();return Object(n.useEffect)((function(){if("number"===typeof i.selected){var e=i.geojson.features.filter((function(e){return e.properties[me]===i.selected}))[0],t=Object(_.a)(e.geometry.coordinates).reverse();Ie(t),Ne&&Ne.eachLayer((function(e){e.feature.properties[me]===i.selected&&e.openPopup(t)})),s(function(e){var t={};if(Object.entries(e.properties).forEach((function(e){var a=Object(S.a)(e,2),n=a[0],c=a[1];if(n.endsWith("_feature")){var r=n.split("_"),s=new Date(Number.parseInt(r[r.length-2])).getTime();t[s]=c}})),0===Object.keys(t).length)return null;var a=[["date","value"]];return Object.keys(t).sort((function(e,t){return Number.parseInt(e)-Number.parseInt(t)})).forEach((function(e){var n=Array(a[0].length).fill(null);n[0]=new Date(Number.parseInt(e)),n[1]=t[e],a.push(n)})),a}(e))}}),[i.selected,i.geojson]),Object(n.useEffect)((function(){null!==i.classProperty.name&&Ne.eachLayer((function(e){e.feature.properties[i.classProperty.name]===i.classProperty.positiveValue?e.setStyle({radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):e.setStyle({radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})}))}),[i.classProperty]),Object(u.jsxs)("div",{className:"sidebar h-100 d-flex flex-column",children:[Object(u.jsx)("div",{className:"sample-container px-2 pt-2",children:Object(u.jsx)(fe,{})}),Object(u.jsx)("div",{className:"chart-canvas p-2",children:Object(u.jsx)("div",{className:"w-100 h-100 bg-white",children:r?Object(u.jsx)(je.a,{width:"100%",height:"90%",chartType:"LineChart",loader:Object(u.jsx)("div",{children:"Loading Chart..."}),data:r,options:{hAxis:{title:"Date",format:"yyyy-MM-dd"},vAxis:{title:"Value"},legend:{position:"bottom"}},rootProps:{"data-testid":"1"}}):"Click on an sample to see its phenology"})})]})}var fe=function(){var e=Object(n.useState)(null),t=Object(S.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),c=Object(S.a)(a,2),r=(c[0],c[1],Object(p.c)((function(e){return e.samples}))),s=Object(p.b)();Object(n.useEffect)((function(){null!==r.classProperty.name&&Ne.eachLayer((function(e){e.feature.properties[r.classProperty.name]===r.classProperty.positiveValue?e.setStyle({radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):e.setStyle({radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})}))}),[r.classProperty]);var i=function(){var e=Object(z.a)(W.a.mark((function e(t){var a,n,c,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=16;break}return a=t.target.files[0],e.t0=ee.a,e.next=5,a.arrayBuffer();case 5:return e.t1=e.sent,e.next=8,(0,e.t0)(e.t1);case 8:(n=e.sent).features.forEach((function(e,t){e.properties[me]=t+1})),(c=ae.a.geoJSON(n,{pointToLayer:function(e,t){return e.properties[r.classProperty.name]===r.classProperty.positiveValue?ae.a.circleMarker(t,{radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):ae.a.circleMarker(t,{radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})},onEachFeature:function(e,t){t.bindPopup((function(e){return q.a.renderToString((t=e.feature.properties,Object(u.jsxs)(X.a,{striped:!0,bordered:!0,hover:!0,children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("th",{children:"key"}),Object(u.jsx)("th",{children:"value"})]}),Object(u.jsx)("tbody",{children:Object.entries(t).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:a}),Object(u.jsx)("td",{children:n})]})}))})]})));var t}),{maxHeight:"400",maxWidth:"400"})}})).addTo(ve),Se(c),i=[{layer:c,name:a.name}],Ae(i),s(se(n));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"sample-container px-2 pt-2",children:Object(u.jsxs)(Q.a,{className:"h-100",children:[Object(u.jsx)(Q.a.Header,{children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("h6",{className:"m-0 p-0",children:["Samples ","(count: ".concat(r.geojson.features.length,")")]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(P.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0",as:"label",htmlFor:"sample-upload",children:Object(u.jsx)(ue.a,{})}),Object(u.jsx)("input",{type:"file",className:"d-none",id:"sample-upload",onChange:i})]}),Object(u.jsx)("div",{children:Object(u.jsx)(P.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0",onClick:function(e){console.log(r.geojson);var t=new Blob([JSON.stringify(r.geojson)],{type:"application/json"});Object(he.saveAs)(t,"samples.geojson")},children:Object(u.jsx)(be.a,{})})})]})}),Object(u.jsxs)(Q.a.Body,{className:"p-2",children:[Object(u.jsx)("div",{className:"container card mb-2",children:Object(u.jsxs)("div",{className:"p-2",children:[Object(u.jsxs)("div",{className:"row align-items-center mb-2",children:[Object(u.jsx)("div",{className:"col-auto",children:"Class field:"}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(Y.a.Select,{className:"w-100",value:r.classProperty.name,onChange:function(e){return t=e.target.value,void s(oe({name:t,positiveValue:null}));var t},children:0!==r.geojson.features.length&&Object.keys(r.geojson.features[0].properties).map((function(e){return Object(u.jsx)("option",{children:e},e)}))})})]}),Object(u.jsxs)("div",{className:"row align-items-center",children:[Object(u.jsx)("div",{className:"col-auto",children:"Class value:"}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)(Y.a.Select,{value:r.classProperty.positiveValue,onChange:function(e){return t=e.target.value,void s(oe({positiveValue:t}));var t},children:[Object(u.jsx)("option",{selected:!0}),0!==r.geojson.features.length&&Object(_.a)(new Set(r.geojson.features.map((function(e){return e.properties[r.classProperty.name]})))).map((function(e){return Object(u.jsx)("option",{children:e},e)}))]})})]})]})}),Object(u.jsx)($.a,{className:"sample-list",children:r.geojson&&r.geojson.features.map((function(e,t){return Object(u.jsx)(xe,{feature:e,idx:t})}))})]})]})})},xe=function(e){var t=e.idx,a=e.feature,n=Object(p.c)((function(e){return e.samples})),c=Object(p.b)();return Object(u.jsx)($.a.Item,{action:!0,className:"px-3 py-1",onClick:function(){return function(e){c(le(e))}(a.properties[me])},active:a.properties[me]===n.selected,style:{backgroundColor:a.properties[n.classProperty.name]===n.classProperty.positiveValue?"lightgreen":null},children:Object(u.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between",children:[Object(u.jsx)("div",{children:"".concat(a.properties[me]," - ").concat(a.properties[n.classProperty.name])}),Object(u.jsx)("div",{children:Object(u.jsx)(P.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0 bg-transparent",as:"label",onClick:function(e){return function(e,t){e.stopPropagation(),console.log(t),Ne.eachLayer((function(e){t===e.feature.properties[me]&&Ne.removeLayer(e)})),c(ie(t)),c(le(null))}(e,a.properties[me])},children:Object(u.jsx)(pe.a,{})})})]})},t)};delete ae.a.Icon.Default.prototype._getIconUrl,ae.a.Icon.Default.mergeOptions({iconRetinaUrl:a(266).default,iconUrl:a(267).default,shadowUrl:a(268).default});var ve=null,ge=null,ye=[],Ne=null,Se=function(e){return Ne=e},Ae=function(e){ve&&ge.current&&e.forEach((function(e){e.layer.addTo(ve),ge.current.addOverlay(e.layer,e.name),ye.push(e.layer)}))},Ce=function(e){ye.forEach((function(e){ge.current.removeLayer(e),ve.removeLayer(e)}))},Ie=function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];ve&&ve.panTo([a,n])};var _e=function(e){var t=Object(p.c)((function(e){return e.editing})),a=Object(p.b)(),c=function(e){a(F())},r=Object(n.useMemo)((function(){return Object(u.jsx)(P.a,{variant:t?"warning":"light",size:"sm",onClick:c,children:"Start Editing"})}),[t]);return Object(u.jsx)("div",{className:"leaflet-top start-50 top-0",children:Object(u.jsx)("div",{className:"leaflet-control leaflet-bar",children:r})})},ke=function(e){var t=e.info;return Object(u.jsx)("div",{className:"leaflet-bottom leaflet-left",children:Object(u.jsx)("div",{className:"leaflet-control leaflet-bar info-board",children:t})})},Te=function(e){var t=e.showEditControl,a=e.showInfoControl,c=e.info,r=Object(n.useRef)(),s=Object(p.c)((function(e){return e.samples}));return Object(n.useEffect)((function(){ge=r,setTimeout((function(){Ae(ye),Ne&&ve&&ge.current&&(Ne.addTo(ve),ge.current.addOverlay(Ne,"samples"))}),400)}),[]),Object(n.useEffect)((function(){if(s.selected){var e=s.geojson.features.filter((function(e){return e.properties[me]===s.selected}))[0],t=Object(_.a)(e.geometry.coordinates).reverse();Ie(t)}}),[s.selected]),Object(n.useMemo)((function(){return Object(u.jsxs)(k.a,{center:[28.5973518,83.54495724],zoom:8,id:"map",whenCreated:function(e){ve=e},children:[Object(u.jsx)(T.a,{ref:r,children:Object.entries(V).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)(T.a.BaseLayer,{name:a,checked:"Google Maps"===a,children:Object(u.jsx)(L.a,{url:n.url,attribution:n.attribution})},a)}))}),t?Object(u.jsx)(_e,{}):null,a?Object(u.jsx)(ke,{info:c}):null]})}),[t,c])},Le=a(304),we=a(303),Ee=a(142),Pe=a(305),Re=a(306),De=a(307),Ge=a(308),Me=a(144),Ue=a(33),Ve=a.n(Ue),He=a(11),Fe=Object(h.b)({name:"dataset",initialState:{name:"COPERNICUS/S1_GRD",cloud:"15",feature:"VH",composite:"median",composite_days:"15",ascd:!1,desc:!0,boundary:"CHITAWAN",boundary_file:null,crop_mask:"projects/testee-319020/assets/terai_agri_mask"},reducers:{update:function(e,t){return Object(ne.a)(Object(ne.a)({},e),t.payload)},changeDataSource:function(e,t){var a=t.payload;return e.name=a,a in G.radar?e.feature="VH":a in G.optical&&(e.feature="NDVI",e.cloud="15"),e}}}),Be=Fe.actions,Ke=Be.update,We=Be.changeDataSource,ze=Fe.reducer;function Je(e){e.disabled;var t=Object(p.c)((function(e){return e.dataset})),a=Object(p.b)(),n=function(e,t){a(Ke(Object(He.a)({},e,t)))};return Object(u.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(u.jsx)(Q.a.Header,{children:Object(u.jsx)("h6",{className:"m-0 p-0",children:"Satellite Dataset"})}),Object(u.jsxs)(Q.a.Body,{children:[Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_name",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Dataset"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Select,{onChange:function(e){a(We(e.target.value))},value:t.name,children:Object.entries(G).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)("optgroup",{label:a,children:Object.entries(n).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)("option",{value:a,children:n},a)}))},a)}))})})]}),t.name in G.optical?Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_cloud",className:"align-items-center mb-2",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:"auto",children:"Cloud cover (%)"}),Object(u.jsx)(Ee.a,{children:Object(u.jsx)(Y.a.Control,{type:"number",min:"0",max:"100",step:"1",value:t.cloud,onChange:function(e){return n("cloud",e.target.value)}})})]}):null,Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_orbit",className:"mb-2",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Orbit"}),Object(u.jsxs)(Ee.a,{xs:8,children:[Object(u.jsx)(Y.a.Check,{type:"checkbox",id:"desc",name:"desc",label:"Descending",checked:t.desc,onChange:function(e){return n("desc",e.target.checked)}}),Object(u.jsx)(Y.a.Check,{type:"checkbox",id:"ascd",name:"ascd",label:"Ascending",checked:t.ascd,onChange:function(e){return n("ascd",e.target.checked)}})]})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_feature",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Feature"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Select,{onChange:function(e){return n("feature",e.target.value)},value:t.feature,children:t.name in G.radar?Object.entries(M).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)("option",{value:a,children:n},a)})):Object.entries(U).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)("option",{value:a,children:n},a)}))})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_composite",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Composite Type"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Select,{onChange:function(e){return n("composite",e.target.value)},value:t.composite,children:["minimum","maximum","median","mean","mode"].map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_composite_days",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Composite Days"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"number",onChange:function(e){return n("composite_days",e.target.value)},value:t.composite_days})})]})]})]})}var qe=function(e){var t=Object(p.c)((function(e){return e.dataset})),a=Object(p.b)(),n=function(e,t){a(Ke(Object(He.a)({},e,t)))};return Object(u.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(u.jsx)(Q.a.Header,{children:Object(u.jsx)("h6",{class:"m-0 p-0",children:"Auxiliary Datasets"})}),Object(u.jsxs)(Q.a.Body,{children:[Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_boundary",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Boundary"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Select,{onChange:function(e){return n("boundary",e.target.value)},value:t.boundary,children:Object.entries(D).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)("option",{value:a,children:n},a)}))})})]}),"upload"===t.boundary?Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_boundary_file",className:"align-items-center mb-2",children:[Object(u.jsxs)(Y.a.Label,{column:!0,xs:4,children:["Boundary file ",Object(u.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"file",className:"w-100 form-control",required:!0,name:"boundary_file",onChange:function(e){return n("boundary_file",URL.createObjectURL(e.target.files[0]))}})})]}):null,Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"dataset_cropmask",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Crop Mask (GEE asset)"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"text",onChange:function(e){return n("crop_mask",e.target.value)},value:t.crop_mask})})]})]})]})},Xe={sowing:"sowing",peak:"peak",harvesting:"harvesting"},Qe=Object.fromEntries(Object.keys(Xe).map((function(e){return[e,{on:!0,start:"",end:"",min:"",max:""}]}))),Ye=Object.fromEntries(Object.keys(Xe).map((function(e){return[e,function(t,a){return t[e]=Object(ne.a)(Object(ne.a)({},t[e]),a.payload),t}]}))),$e=Object(h.b)({name:"seasons",initialState:Qe,reducers:Ye}),Ze=$e.actions,et=$e.reducer,tt=function(e){var t=e.name,a=e.inputThres,n=e.readOnly,c=(Object(p.c)((function(e){return e.appName})),Object(p.c)((function(e){return e.seasons[t]}))),r=(Object(p.c)((function(e){return e.samples})),Object(p.b)()),s=Ze[t],i=function(e,t){r(s(Object(He.a)({},e,t)))};return Object(u.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(u.jsxs)(we.a,{className:"align-items-center gx-2 m-0 card-header",children:[Object(u.jsx)(Ee.a,{xs:"auto",children:Object(u.jsx)(Y.a.Check,{type:"switch",id:"".concat(t,"_switch"),"aria-label":t,checked:c.on,onChange:function(e){return i("on",e.target.checked)}})}),Object(u.jsx)(Ee.a,{xs:"auto",children:Object(u.jsx)("h6",{className:"m-0",children:t.charAt(0).toUpperCase()+t.slice(1)})})]}),Object(u.jsx)("fieldset",{id:"".concat(t,"_fields"),disabled:!c.on,children:Object(u.jsxs)(Q.a.Body,{children:[Object(u.jsxs)(Y.a.Group,{as:we.a,className:"mb-2",controlId:"".concat(t,"_start_fields"),children:[Object(u.jsxs)(Y.a.Label,{column:!0,sm:4,children:["Start date ",Object(u.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(u.jsx)(Ee.a,{sm:8,children:Object(u.jsx)(Y.a.Control,{type:"date",required:!0,readOnly:n,name:"".concat(t,"_start"),value:c.start,onChange:function(e){return i("start",e.target.value)}})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,className:"mb-2",controlId:"".concat(t,"_end_fields"),children:[Object(u.jsxs)(Y.a.Label,{column:!0,sm:4,children:["End date ",Object(u.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(u.jsx)(Ee.a,{sm:8,children:Object(u.jsx)(Y.a.Control,{type:"date",required:!0,readOnly:n,name:"".concat(t,"_end"),value:c.end,onChange:function(e){return i("end",e.target.value)}})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,className:"mb-2",children:[Object(u.jsxs)(Y.a.Label,{column:!0,sm:4,children:["Threshold ",a?Object(u.jsx)("span",{style:{color:"red"},children:"*"}):null]}),Object(u.jsx)(Ee.a,{sm:8,children:Object(u.jsxs)(we.a,{className:"gx-1 align-items-center",children:[Object(u.jsx)(Ee.a,{children:Object(u.jsx)(Y.a.Control,{type:"number",required:a,readOnly:!a||n,id:"".concat(t,"_min"),placeholder:"min",step:"0.01",name:"".concat(t,"_min"),value:c.min,onChange:function(e){return i("min",e.target.value)}})}),Object(u.jsx)(Ee.a,{sm:"auto",children:"\u2264 x \u2264"}),Object(u.jsx)(Ee.a,{children:Object(u.jsx)(Y.a.Control,{type:"number",required:a,readOnly:!a||n,id:"".concat(t,"_max"),placeholder:"max",step:"0.01",name:"".concat(t,"_max"),value:c.max,onChange:function(e){return i("max",e.target.value)}})})]})})]})]})})]})},at="Datasets",nt="Seasons",ct=function(e){var t=e.setInfo,a=Object(p.c)((function(e){return e.csrfToken})),c=Object(p.c)((function(e){return e.dataset})),r=Object(p.c)((function(e){return e.seasons})),s=(Object(p.c)((function(e){return e.editing})),Object(p.b)(),Object(n.useState)(!1)),i=Object(S.a)(s,2),l=i[0],o=i[1],j=Object(n.useState)(!1),b=Object(S.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)({}),f=Object(S.a)(O,2);f[0],f[1];return Object(u.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(u.jsx)(Y.a,{method:"POST",onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void o(!0);o(!1);var n=new FormData,s={};R.forEach((function(e){r[e].on&&(s[e]=E.a.cloneDeep(r[e]),delete s[e].on)})),s.dataset=E.a.cloneDeep(c),s.dataset.boundary_file&&(n.append("boundary_file",s.dataset.boundary_file),delete s.dataset.boundary_file),n.append("json",new Blob([JSON.stringify(s)],{type:"application/json"})),Ve.a.post("empirical/",n,{baseURL:"/servir/rice-explorer",headers:{"X-CSRFToken":a}}).then((function(e){var a=e.data,n=[];Object.keys(a).forEach((function(e){var c={layer:new ae.a.TileLayer(a[e].tile_url),name:e,url:a[e].download_url};n.push(c),a[e].area&&t("Rice area: "+a[e].area.toFixed(3)+" ha")})),Ae(n),m(!1)})).catch((function(e){m(!1),alert(e)})),m(!0),Ce()},noValidate:!0,validated:l,children:Object(u.jsxs)(Le.a,{defaultActiveKey:at,unmountOnExit:!1,children:[Object(u.jsx)(we.a,{className:"tabs-nav g-0",children:Object(u.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:at,children:at})}),Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:nt,children:nt})})]})}),Object(u.jsx)(we.a,{className:"tabs-content g-0 p-2",children:Object(u.jsx)(Ee.a,{children:Object(u.jsxs)(Pe.a,{children:[Object(u.jsx)(Re.a,{eventKey:at,children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)(Je,{}),Object(u.jsx)(qe,{})]})}),Object(u.jsxs)(Re.a,{eventKey:nt,children:[R.map((function(e){return Object(u.jsx)(tt,{name:e,inputThres:!0,readOnly:h},e)})),Object(u.jsxs)("div",{className:"d-grid gap-2",children:[Object(u.jsx)(P.a,{type:"submit",variant:h?"secondary":"primary",disabled:h,children:h?Object(u.jsxs)("div",{children:["Running...",Object(u.jsx)(De.a,{as:"span",animation:"border",size:"sm",role:"status"})]}):"Run"}),Object(u.jsxs)(Ge.a,{id:"export-dropdown",title:"Export",onSelect:function(e,t){},children:[Object(u.jsx)(Me.a.Item,{eventKey:"season",children:"Export each season"}),Object(u.jsx)(Me.a.Item,{eventKey:"combined",children:"Export combined"})]})]})]})]})})})]})})})};var rt=0;var st=function(e){var t=e.className,a=e.leftPanel,c=e.rightPanel,r=Object(n.useRef)(),s=Object(n.useRef)(),i=function(e){1===rt?r.current.style.flexBasis=Math.min(Number.parseInt(e.clientX),document.body.clientWidth-10)+"px":l()},l=function e(t){rt=0,document.body.removeEventListener("mouseup",e),document.body.removeEventListener("mousemove",i)};return Object(u.jsxs)("div",{className:"h-100 "+t,style:{display:"flex"},children:[Object(u.jsx)("div",{className:"left-panel h-100",ref:r,children:a}),Object(u.jsx)("div",{className:"panel-separator",onMouseDown:function(e){rt=1,document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",l)}}),Object(u.jsx)("div",{className:"right-panel h-100 w-100",ref:s,children:c})]})},it=Object(h.b)({name:"csrfToken",initialState:null,reducers:{setToken:function(e,t){return t.payload}}}),lt=it.actions.setToken,ot=it.reducer;var dt=function(){var e=Object(p.b)(),t=Object(n.useState)("Please run the app to show area of rice."),a=Object(S.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){e(g(O))}),[]),Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(I,{}),Object(u.jsx)(st,{className:"app-main",leftPanel:Object(u.jsx)(ct,{setInfo:r}),rightPanel:Object(u.jsx)(Te,{showInfoControl:!0,info:c})})]})},jt=(a(287),a(309)),ut={Jan:null,Feb:null,Mar:null,Apr:null,May:null,Jun:null,Jul:null,Aug:null,Sep:null,Oct:null,Nov:null,Dec:null},bt=function(e){var t=e.month,a=e.point;return Object(u.jsxs)(k.a,{center:a||[28.5973518,83.54495724],zoom:15,className:"small-map",zoomControl:!1,whenCreated:function(e){return ut[t]=e},children:[Object(u.jsx)(L.a,{url:V["Google Satellite"].url,attribution:V["Google Satellite"].attribution}),a&&Object(u.jsx)(jt.a,{position:a})]})},pt=function(e){var t=Object(p.c)((function(e){return e.samples})),a=t.geojson.features.filter((function(e){return e.properties[me]===t.selected}))[0];e.date_start,e.date_end;return Object(n.useEffect)((function(){Ve.a.get("phenology/monthly_composite",{baseURL:"/servir/rice-explorer",params:{year:2019}}).then((function(e){var t=e.data;Object.keys(ut).forEach((function(e){var a=t[e];new ae.a.TileLayer(a).addTo(ut[e])}))}))}),[]),Object(n.useEffect)((function(){t.selected&&Object.values(ut).forEach((function(e){e.panTo([a.geometry.coordinates[1],a.geometry.coordinates[0]])}))}),[t.selected]),Object(u.jsx)("div",{className:"map-carousel h-100 d-flex overflow-auto",children:Object.keys(ut).map((function(e){return Object(u.jsxs)("div",{className:"p-1 d-flex flex-column",style:{width:250,flex:"0 0 auto"},children:[Object(u.jsx)("div",{children:e}),Object(u.jsx)(bt,{point:a&&Object(_.a)(a.geometry.coordinates).reverse(),month:e})]})}))})};function ht(e){var t=e.showEditControl,a=e.showInfoControl,n=e.info;return Object(u.jsxs)("div",{className:"w-100 h-100 d-flex flex-column",children:[Object(u.jsx)("div",{className:"map-container",children:Object(u.jsx)(Te,{showEditControl:t,showInfoControl:a,info:n})}),Object(u.jsx)("div",{className:"map-carousel-container",children:Object(u.jsx)(pt,{})})]})}var mt=a(105),Ot="Datasets",ft="Seasons";function xt(e){var t=Object(p.c)((function(e){return e.csrfToken})),a=Object(p.c)((function(e){return e.dataset})),c=Object(p.c)((function(e){return e.seasons})),r=Object(p.c)((function(e){return e.samples})),s=Object(p.c)((function(e){return e.editing})),i=Object(p.b)(),l=Object(n.useState)(!1),o=Object(S.a)(l,2),j=o[0],b=o[1],h=Object(n.useState)(!1),m=Object(S.a)(h,2),O=m[0],f=m[1];return Object(u.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(u.jsxs)(Le.a,{defaultActiveKey:Ot,unmountOnExit:!1,children:[Object(u.jsx)(we.a,{className:"tabs-nav g-0",children:Object(u.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:Ot,children:Ot})}),Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:ft,children:ft})})]})}),Object(u.jsx)(we.a,{className:"tabs-content g-0 p-2",children:Object(u.jsx)(Ee.a,{children:Object(u.jsxs)(Pe.a,{children:[Object(u.jsx)(Re.a,{eventKey:Ot,children:Object(u.jsxs)(Y.a,{method:"POST",noValidate:!0,validated:O,onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void f(!0);f(!1);var n={};n.dataset=E.a.cloneDeep(a),delete n.dataset.boundary_file;var c=E.a.cloneDeep(r.geojson);c.features.forEach((function(e){Object.keys(e.properties).forEach((function(t){t.endsWith("_feature")&&delete e.properties[t]}))})),n.samples=c,Ve.a.post("phenology/",n,{baseURL:"/servir/rice-explorer",headers:{"X-CSRFToken":t}}).then((function(e){e.data.features.forEach((function(e){c.features.filter((function(t){return t.properties[me]===e.properties[me]}))[0].properties=e.properties})),i(se(c)),b(!1)})).catch((function(e){b(!1),alert(e)})),b(!0)},children:[Object(u.jsx)(Je,{}),Object(u.jsx)(P.a,{className:"w-100",type:"submit",variant:j?"secondary":"primary",disabled:j,children:j?Object(u.jsxs)("div",{children:["Running...",Object(u.jsx)(De.a,{as:"span",animation:"border",size:"sm",role:"status"})]}):"Save settings"})]})}),Object(u.jsxs)(Re.a,{eventKey:ft,children:[R.map((function(e){return Object(u.jsx)(tt,{name:e,inputThres:!1,readOnly:s},e)})),Object(u.jsx)(P.a,{className:"w-100",onClick:function(e){0!==r.geojson.features.length?Object.keys(c).forEach((function(e){var t=c[e];if(t.on){var a=new Date(t.start),n=new Date(t.end),s=[];if(r.geojson.features.forEach((function(e){e.properties[r.classProperty.name]===r.classProperty.positiveValue&&Object.entries(e.properties).forEach((function(e){var t=Object(S.a)(e,2),c=t[0],r=t[1];if(c.endsWith("_feature")){var i=c.split("_"),l=new Date(Number.parseInt(i[i.length-2])).getTime();a.getTime()<=l&&l<=n.getTime()&&s.push(r)}}))})),0===s.length)return;var l=function(e){var t=mt.a(e,.25),a=mt.a(e,.75),n=a-t,c=a+1.5*n,r=t-1.5*n;return e.filter((function(e){return e>r&&e<c}))}(s),o=E.a.sum(l)/l.length,d=Math.sqrt(E.a.sum(E.a.map(l,(function(e){return Math.pow(e-o,2)})))/l.length),j=Ze[e];i(j({min:(o-d).toFixed(2),max:(o+d).toFixed(2)}))}})):alert("Please upload the ground truth samples first.")},children:"Refresh"})]})]})})})]})})}function vt(){var e=Object(p.b)();return Object(n.useEffect)((function(){e(g(f))}),[]),Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(I,{}),Object(u.jsx)(o.a,{fluid:!0,className:"h-100 app-main pb-0 ps-0 pe-0",children:Object(u.jsxs)(we.a,{className:"h-100 gx-0",children:[Object(u.jsx)(Ee.a,{children:Object(u.jsx)(xt,{})}),Object(u.jsx)(Ee.a,{xs:"7",children:Object(u.jsx)(ht,{showEditControl:!1,showInfoControl:!1})}),Object(u.jsx)(Ee.a,{children:Object(u.jsx)(Oe,{})})]})})]})}var gt=a(312),yt=a(145),Nt={"Random Forest":{numberOfTrees:{type:"int",required:!0,default:200,description:"The number of decision trees to create."},variablesPerSplit:{type:"int",default:null,description:"The number of variables per split. If unspecified, uses the square root of the number of variables."},minLeafPopulation:{type:"int",default:1,description:"Only create nodes whose training set contains at least this many points."},bagFraction:{type:"float",default:.5,description:"The fraction of input to bag per tree."},maxNodes:{type:"int",default:null,description:"The maximum number of leaf nodes in each tree. If unspecified, defaults to no limit."},seed:{type:"int",default:0,description:"The randomization seed."}},"Gradient Tree Boost":{}},St=Object(h.b)({name:"classification",initialState:{start_date:null,end_date:null,training_ratio:.7,model:"",model_specs:{}},reducers:{update:function(e,t){return Object(ne.a)(Object(ne.a)({},e),t.payload)},updateModelSpecs:function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{model_specs:Object(ne.a)(Object(ne.a)({},e.model_specs),t.payload)})},changeModel:function(e,t){t.payload&&t.payload!==e.model&&(e.model_specs={},Object.keys(Nt[t.payload]).forEach((function(a){"default"in Nt[t.payload][a]?e.model_specs[a]=Nt[t.payload][a].default:e.model_specs[a]=null}))),e.model=t.payload}}}),At=St.actions,Ct=At.update,It=At.updateModelSpecs,_t=At.changeModel,kt=St.reducer,Tt=a(310),Lt="Datasets",wt="Samples",Et="Classification",Pt=function(e){var t=e.setInfo,a=Object(p.c)((function(e){return e.csrfToken})),c=Object(p.c)((function(e){return e.dataset})),r=Object(p.c)((function(e){return e.classification})),s=Object(p.c)((function(e){return e.samples})),i=Object(p.b)(),l=Object(n.useState)(!1),o=Object(S.a)(l,2),j=o[0],b=o[1],h=Object(n.useState)(!1),m=Object(S.a)(h,2),O=(m[0],m[1]),f=Object(n.useState)({}),x=Object(S.a)(f,2),v=(x[0],x[1],function(e,t){"model"===e?i(_t(t)):e.startsWith("model")?i(It(Object(He.a)({},e.split(".")[1],t))):i(Ct(Object(He.a)({},e,t)))});return Object(u.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(u.jsx)(Y.a,{method:"POST",onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void b(!0);b(!1);var n=new FormData,i={};i.dataset=E.a.cloneDeep(c),i.dataset.boundary_file&&(n.append("boundary_file",i.dataset.boundary_file),delete i.dataset.boundary_file),i.classification=E.a.cloneDeep(r),i.classification.class_property=s.classProperty;var l=i.classification.model_specs;for(var o in l)null===l[o]&&delete l[o];n.append("json",new Blob([JSON.stringify(i)],{type:"application/json"})),0!==s.geojson.features.length&&n.append("samples",new Blob([JSON.stringify(s.geojson)],{type:"application/json"})),Ve.a.post("classification/",n,{baseURL:"/servir/rice-explorer",headers:{"X-CSRFToken":a}}).then((function(e){var a=e.data,n=[];Object.keys(a).forEach((function(e){var c={layer:new ae.a.TileLayer(a[e].tile_url),name:e,url:a[e].download_url};n.push(c),a[e].area&&t("Rice area: "+a[e].area.toFixed(3)+" ha")})),Ae(n),O(!1)})).catch((function(e){O(!1),alert(e)})),O(!0),Ce()},noValidate:!0,validated:j,children:Object(u.jsxs)(Le.a,{defaultActiveKey:Lt,unmountOnExit:!1,children:[Object(u.jsx)(we.a,{className:"tabs-nav g-0",children:Object(u.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:Lt,children:Lt})}),Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:wt,children:wt})}),Object(u.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(u.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:Et,children:Et})})]})}),Object(u.jsx)(we.a,{className:"tabs-content g-0 p-2",children:Object(u.jsx)(Ee.a,{children:Object(u.jsxs)(Pe.a,{children:[Object(u.jsx)(Re.a,{eventKey:Lt,children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)(Je,{}),Object(u.jsx)(qe,{})]})}),Object(u.jsx)(Re.a,{eventKey:wt,children:Object(u.jsx)(fe,{})}),Object(u.jsxs)(Re.a,{eventKey:Et,children:[Object(u.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(u.jsx)(Q.a.Header,{children:Object(u.jsx)("h6",{className:"m-0 p-0",children:"Image Date Range"})}),Object(u.jsxs)(Q.a.Body,{children:[Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"date_start",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Start Date:"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"date",value:r.start_date,onChange:function(e){return v("start_date",e.target.value)}})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"date_end",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"End Date:"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"date",value:r.end_date,onChange:function(e){return v("end_date",e.target.value)}})})]})]})]}),Object(u.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(u.jsx)(Q.a.Header,{children:Object(u.jsx)("h6",{className:"m-0 p-0",children:"Classification Details"})}),Object(u.jsxs)(Q.a.Body,{children:[Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"train_test_ratio",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Training Ratio:"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsx)(Y.a.Control,{type:"number",step:"0.05",value:r.training_ratio,onChange:function(e){return v("training_ratio",e.target.value)}})})]}),Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:"model",className:"mb-2 align-items-center",children:[Object(u.jsx)(Y.a.Label,{column:!0,xs:4,children:"Model:"}),Object(u.jsx)(Ee.a,{xs:8,children:Object(u.jsxs)(Y.a.Select,{value:r.model,onChange:function(e){return v("model",e.target.value)},children:[Object(u.jsx)("option",{},""),Object.keys(Nt).map((function(e){return Object(u.jsx)("option",{children:e},e)}))]})})]}),r.model&&Object.keys(Nt[r.model]).map((function(e){return Object(u.jsx)(Rt,{specName:e,handleChange:v})}))]})]}),Object(u.jsx)(P.a,{className:"w-100",type:"submit",children:"Run"})]})]})})})]})})})},Rt=function(e){var t=e.specName,a=e.handleChange,n=Object(p.c)((function(e){return e.classification})),c=n.model,r=function(e){a("model.".concat(t),e.target.value)};return Object(u.jsxs)(Y.a.Group,{as:we.a,controlId:t,className:"mb-2 align-items-center",children:[Object(u.jsxs)(Y.a.Label,{column:!0,xs:4,children:[t,"  ",Object(u.jsx)(gt.a,{trigger:"hover",placement:"right",overlay:Object(u.jsx)(yt.a,{children:Object(u.jsx)(yt.a.Body,{children:Nt[c][t].description})}),children:Object(u.jsx)(Tt.a,{})})]}),Object(u.jsx)(Ee.a,{xs:8,children:function(){switch(Nt[c][t].type){case"int":return Object(u.jsx)(Y.a.Control,{type:"number",placeholder:"Leave blank to use default value",step:"1",value:n.model_specs[t],onChange:r});case"float":return Object(u.jsx)(Y.a.Control,{type:"number",placeholder:"Leave blank to use default value",step:"0.1",value:n.model_specs[t],onChange:r});case"string":return Object(u.jsx)(Y.a.Control,{type:"text",value:n.model_specs[t],onChange:r});case"select":return Object(u.jsx)(Y.a.Select,{value:n.model_specs[t],onChange:r,children:Nt[c][t].options.map((function(e){return Object(u.jsx)("option",{children:e},e)}))});default:return Object(u.jsx)(u.Fragment,{})}}()})]})};function Dt(){var e=Object(p.b)(),t=Object(n.useState)("Please run the app to show area of rice."),a=Object(S.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){e(g(x))}),[]),Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(I,{}),Object(u.jsx)(st,{className:"app-main",leftPanel:Object(u.jsx)(Pt,{setInfo:r}),rightPanel:Object(u.jsx)(Te,{showInfoControl:!0,info:c})})]})}var Gt=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){var t=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=a[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrftoken");e(lt(t))}),[]),Object(u.jsxs)("div",{className:"d-flex flex-column vh-100",children:[Object(u.jsx)(b,{}),Object(u.jsx)("main",{className:"h-100",children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(N,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/empirical",children:Object(u.jsx)(dt,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/phenology",children:Object(u.jsx)(vt,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/classification",children:Object(u.jsx)(Dt,{})})]})})]})},Mt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Ut=(a(288),Object(h.a)({reducer:{csrfToken:ot,dataset:ze,seasons:et,samples:de,editing:B,appStatus:C,appName:y,classification:kt}}));s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(j.a,{basename:"/servir/rice-explorer",children:Object(u.jsx)(p.a,{store:Ut,children:Object(u.jsx)(Gt,{})})})}),document.getElementById("root")),Mt()}},[[290,1,2]]]);
//# sourceMappingURL=main.0e035592.chunk.js.map