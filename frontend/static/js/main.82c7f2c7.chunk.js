(this.webpackJsonprice_explorer=this.webpackJsonprice_explorer||[]).push([[0],{213:function(e,t,a){},261:function(e,t){},286:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(23),r=a.n(s),l=(a(213),a(16)),i=a(311),o=a(295),d=a(313),u=a(45),j=a(1),b=function(){return Object(j.jsx)("header",{children:Object(j.jsx)(i.a,{bg:"dark",variant:"dark",expand:"lg",className:"header",fixed:"top",children:Object(j.jsxs)(o.a,{fluid:!0,children:[Object(j.jsx)(i.a.Brand,{href:"/",children:"Crop Mapping Explorer"}),Object(j.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(d.a,{className:"me-auto",children:[Object(j.jsx)(d.a.Link,{to:"/phenology",as:u.b,children:"Phenology Explorer"}),Object(j.jsx)(d.a.Link,{to:"/empirical",as:u.b,children:"Empirical Thresholding"}),Object(j.jsx)(d.a.Link,{to:"/classification",as:u.b,children:"Classification"})]})})]})})})},p=a(8),h=a(19),m="home",O="empirical",f="phenology",x="classification",v=Object(h.b)({name:"appName",initialState:null,reducers:{setAppName:function(e,t){return t.payload}}}),g=v.actions.setAppName,y=v.reducer;var N=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){e(g(m))}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Hello"})})},S=a(9),C=Object(h.b)({name:"appStatus",initialState:"Ready",reducers:{setStatus:function(e,t){return t.payload}}}),A=(C.actions.setStatus,C.reducer);var k=function(e){var t=Object(p.c)((function(e){return e.appStatus}));return Object(j.jsx)("div",{className:"app-status-bar align-items-center d-flex position-absolute",children:Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsxs)("h6",{className:"mb-0",children:["App Status: ",Object(j.jsx)("b",{children:t})]})})})},I=a(33),_=a(299),T=a(300),L=a(315),w=(a(225),a(17)),P=a.n(w),E=a(140),R=["sowing","peak","harvesting"],D={upload:"Upload boundary file (shp)",MORANG:"MORANG",SUNSARI:"SUNSARI",JHAPA:"JHAPA",MAHOTTARI:"MAHOTTARI",PARSA:"PARSA",RAUTAHAT:"RAUTAHAT",SAPTARI:"SAPTARI",SARLAHI:"SARLAHI",SIRAHA:"SIRAHA",BARA:"BARA",DHANUSHA:"DHANUSHA",CHITAWAN:"CHITAWAN",NAWALPARASI_E:"NAWALPARASI_E",KAPILBASTU:"KAPILBASTU",NAWALPARASI_W:"NAWALPARASI_W",RUPANDEHI:"RUPANDEHI",BANKE:"BANKE",BARDIYA:"BARDIYA",DANG:"DANG",KAILALI:"KAILALI",KANCHANPUR:"KANCHANPUR"},G={radar:{"COPERNICUS/S1_GRD":"Sentinel-1 SAR GRD: C-band Synthetic Aperture Radar Ground Range Detected, log scaling"},optical:{"MODIS/006/MOD13Q1":"MOD13Q1.006 Terra Vegetation Indices 16-Day Global 250m","LANDSAT/LT05/C01/T1_TOA":"USGS Landsat 5 TM Collection 1 Tier 1 TOA Reflectance","LANDSAT/LT05/C01/T1_SR":"USGS Landsat 5 Surface Reflectance Tier 1","LANDSAT/LC08/C01/T1_TOA":"USGS Landsat 8 Collection 1 Tier 1 TOA Reflectance","COPERNICUS/S2":"Sentinel-2 MSI: MultiSpectral Instrument, Level-1C","COPERNICUS/S2_SR":"Sentinel-2 MSI: MultiSpectral Instrument, Level-2A"}},V={VH:"VH band",VV:"VV band","VH/VV":"VH/VV (cross ratio)"},M={NDVI:"NDVI",EVI:"EVI",NDWI:"NDWI",MNDWI:"MNDWI"},H={"Google Maps":{url:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:"Google"},"Google Satellite":{url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:"Google"},"Google Terrain":{url:"https://mt1.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",attribution:"Google"},"ESRI World Imagery":{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},U=Object(h.b)({name:"editing",initialState:!1,reducers:{toggle:function(e){return!e}}}),F=U.actions.toggle,B=U.reducer,K=a(30),W=a.n(K),z=a(104),J=a(105),q=a.n(J),X=a(296),Q=a(312),Y=a(309),$=a(314),Z=a(106),ee=a.n(Z),te=a(12),ae=a.n(te),ne=a(2),ce=Object(h.b)({name:"samples",initialState:{selected:null,geojson:{type:"FeatureCollection",features:[]},classProperty:{name:null,positiveValue:null}},reducers:{replace:function(e,t){return e.geojson=t.payload,e.selected=null,e},addFeatures:function(e,t){return e.geojson.features.push(t.payload),e},deleteFeature:function(e,t){var a=e.geojson.features.findIndex((function(e,a){return e.properties[me]===t.payload}));e.geojson.features.splice(a,1)},selectFeature:function(e,t){e.selected=t.payload},setClassProperty:function(e,t){e.classProperty=Object(ne.a)(Object(ne.a)({},e.classProperty),t.payload)}}}),se=ce.actions,re=se.replace,le=(se.addFeatures,se.deleteFeature),ie=se.selectFeature,oe=se.setClassProperty,de=ce.reducer,ue=a(138),je=a(297),be=a(298),pe=function(e){return Object(j.jsxs)(X.a,{striped:!0,bordered:!0,hover:!0,children:[Object(j.jsxs)("thead",{children:[Object(j.jsx)("th",{children:"key"}),Object(j.jsx)("th",{children:"value"})]}),Object(j.jsx)("tbody",{children:Object.entries(e).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:n})]})}))})]})},he=function(e){var t={};if(Object.entries(e.properties).forEach((function(e){var a=Object(S.a)(e,2),n=a[0],c=a[1];if(n.endsWith("_feature")){var s=n.split("_"),r=new Date(Number.parseInt(s[s.length-2])).getTime();t[r]=c}})),0===Object.keys(t).length)return null;var a=[["date","value"]];return Object.keys(t).sort((function(e,t){return Number.parseInt(e)-Number.parseInt(t)})).forEach((function(e){var n=Array(a[0].length).fill(null);n[0]=new Date(Number.parseInt(e)),n[1]=t[e],a.push(n)})),a},me="_$id";function Oe(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),c=Object(S.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(null),i=Object(S.a)(l,2),o=(i[0],i[1],Object(n.useState)(null)),d=Object(S.a)(o,2),u=(d[0],d[1],Object(p.c)((function(e){return e.samples}))),b=Object(p.b)();Object(n.useEffect)((function(){if("number"===typeof u.selected){var e=u.geojson.features.filter((function(e){return e.properties[me]===u.selected}))[0],t=Object(I.a)(e.geometry.coordinates).reverse();Ie(t),Ne&&Ne.eachLayer((function(e){e.feature.properties[me]===u.selected&&e.openPopup(t)})),r(he(e))}}),[u.selected,u.geojson]),Object(n.useEffect)((function(){null!==u.classProperty.name&&Ne.eachLayer((function(e){e.feature.properties[u.classProperty.name]===u.classProperty.positiveValue?e.setStyle({radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):e.setStyle({radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})}))}),[u.classProperty]);var h=function(){var e=Object(z.a)(W.a.mark((function e(t){var a,n,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=15;break}return a=t.target.files[0],e.t0=ee.a,e.next=5,a.arrayBuffer();case 5:return e.t1=e.sent,e.next=8,(0,e.t0)(e.t1);case 8:(n=e.sent).features.forEach((function(e,t){e.properties[me]=t+1})),(c=ae.a.geoJSON(n,{pointToLayer:function(e,t){return e.properties[u.classProperty.name]===u.classProperty.positiveValue?ae.a.circleMarker(t,{radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):ae.a.circleMarker(t,{radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})},onEachFeature:function(e,t){t.bindPopup((function(e){return q.a.renderToString(pe(e.feature.properties))}),{maxHeight:"400",maxWidth:"400"})}})).addTo(ve),Se(c),Ae(),b(re(n));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"sidebar h-100 d-flex flex-column",children:[Object(j.jsx)("div",{className:"sample-container px-2 pt-2",children:Object(j.jsxs)(Q.a,{className:"h-100",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h6",{className:"m-0 p-0",children:["Samples ","(count: ".concat(u.geojson.features.length,")")]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(E.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0",as:"label",htmlFor:"sample-upload",children:Object(j.jsx)(je.a,{})}),Object(j.jsx)("input",{type:"file",className:"d-none",id:"sample-upload",onChange:h})]})]})}),Object(j.jsxs)(Q.a.Body,{className:"p-2",children:[Object(j.jsx)("div",{className:"container card mb-2",children:Object(j.jsxs)("div",{className:"p-2",children:[Object(j.jsxs)("div",{className:"row align-items-center mb-2",children:[Object(j.jsx)("div",{className:"col-auto",children:"Class field:"}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(Y.a.Select,{className:"w-100",value:u.classProperty.name,onChange:function(e){return t=e.target.value,void b(oe({name:t,positiveValue:null}));var t},children:0!==u.geojson.features.length&&Object.keys(u.geojson.features[0].properties).map((function(e){return Object(j.jsx)("option",{children:e},e)}))})})]}),Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsx)("div",{className:"col-auto",children:"Class value:"}),Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)(Y.a.Select,{value:u.classProperty.positiveValue,onChange:function(e){return t=e.target.value,void b(oe({positiveValue:t}));var t},children:[Object(j.jsx)("option",{selected:!0}),0!==u.geojson.features.length&&Object(I.a)(new Set(u.geojson.features.map((function(e){return e.properties[u.classProperty.name]})))).map((function(e){return Object(j.jsx)("option",{children:e},e)}))]})})]})]})}),Object(j.jsx)($.a,{className:"sample-list",children:u.geojson&&u.geojson.features.map((function(e,t){return Object(j.jsx)(xe,{feature:e,idx:t})}))})]})]})}),Object(j.jsx)("div",{className:"chart-canvas p-2",children:Object(j.jsx)("div",{className:"w-100 h-100 bg-white",children:s?Object(j.jsx)(ue.a,{width:"100%",height:"90%",chartType:"LineChart",loader:Object(j.jsx)("div",{children:"Loading Chart..."}),data:s,options:{hAxis:{title:"Date",format:"yyyy-MM-dd"},vAxis:{title:"Value"},legend:{position:"bottom"}},rootProps:{"data-testid":"1"}}):"Click on an sample to see its phenology"})})]})}var fe=function(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),c=Object(S.a)(a,2),s=(c[0],c[1]),r=Object(n.useState)(null),l=Object(S.a)(r,2),i=(l[0],l[1],Object(n.useState)(null)),o=Object(S.a)(i,2),d=(o[0],o[1],Object(p.c)((function(e){return e.samples}))),u=Object(p.b)();Object(n.useEffect)((function(){if("number"===typeof d.selected){var e=d.geojson.features.filter((function(e){return e.properties[me]===d.selected}))[0],t=Object(I.a)(e.geometry.coordinates).reverse();Ie(t),Ne&&Ne.eachLayer((function(e){e.feature.properties[me]===d.selected&&e.openPopup(t)})),s(he(e))}}),[d.selected,d.geojson]),Object(n.useEffect)((function(){null!==d.classProperty.name&&Ne.eachLayer((function(e){e.feature.properties[d.classProperty.name]===d.classProperty.positiveValue?e.setStyle({radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):e.setStyle({radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})}))}),[d.classProperty]);var b=function(){var e=Object(z.a)(W.a.mark((function e(t){var a,n,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=16;break}return a=t.target.files[0],e.t0=ee.a,e.next=5,a.arrayBuffer();case 5:return e.t1=e.sent,e.next=8,(0,e.t0)(e.t1);case 8:(n=e.sent).features.forEach((function(e,t){e.properties[me]=t+1})),(c=ae.a.geoJSON(n,{pointToLayer:function(e,t){return e.properties[d.classProperty.name]===d.classProperty.positiveValue?ae.a.circleMarker(t,{radius:3,fillColor:"red",stroke:.2,color:"black",opacity:.5,fillOpacity:1}):ae.a.circleMarker(t,{radius:3,fillColor:"blue",stroke:.2,color:"black",opacity:.5,fillOpacity:1})},onEachFeature:function(e,t){t.bindPopup((function(e){return q.a.renderToString(pe(e.feature.properties))}),{maxHeight:"400",maxWidth:"400"})}})).addTo(ve),Se(c),s=[{layer:c,name:a.name}],Ce(s),u(re(n));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"sample-container px-2 pt-2",children:Object(j.jsxs)(Q.a,{className:"h-100",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h6",{className:"m-0 p-0",children:["Samples ","(count: ".concat(d.geojson.features.length,")")]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(E.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0",as:"label",htmlFor:"sample-upload",children:Object(j.jsx)(je.a,{})}),Object(j.jsx)("input",{type:"file",className:"d-none",id:"sample-upload",onChange:b})]})]})}),Object(j.jsxs)(Q.a.Body,{className:"p-2",children:[Object(j.jsx)("div",{className:"container card mb-2",children:Object(j.jsxs)("div",{className:"p-2",children:[Object(j.jsxs)("div",{className:"row align-items-center mb-2",children:[Object(j.jsx)("div",{className:"col-auto",children:"Class field:"}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(Y.a.Select,{className:"w-100",value:d.classProperty.name,onChange:function(e){return t=e.target.value,void u(oe({name:t,positiveValue:null}));var t},children:0!==d.geojson.features.length&&Object.keys(d.geojson.features[0].properties).map((function(e){return Object(j.jsx)("option",{children:e},e)}))})})]}),Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsx)("div",{className:"col-auto",children:"Class value:"}),Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)(Y.a.Select,{value:d.classProperty.positiveValue,onChange:function(e){return t=e.target.value,void u(oe({positiveValue:t}));var t},children:[Object(j.jsx)("option",{selected:!0}),0!==d.geojson.features.length&&Object(I.a)(new Set(d.geojson.features.map((function(e){return e.properties[d.classProperty.name]})))).map((function(e){return Object(j.jsx)("option",{children:e},e)}))]})})]})]})}),Object(j.jsx)($.a,{className:"sample-list",children:d.geojson&&d.geojson.features.map((function(e,t){return Object(j.jsx)(xe,{feature:e,idx:t})}))})]})]})})},xe=function(e){var t=e.idx,a=e.feature,n=Object(p.c)((function(e){return e.samples})),c=Object(p.b)();return Object(j.jsx)($.a.Item,{action:!0,className:"px-3 py-1",onClick:function(){return function(e){c(ie(e))}(a.properties[me])},active:a.properties[me]===n.selected,style:{backgroundColor:a.properties[n.classProperty.name]===n.classProperty.positiveValue?"lightgreen":null},children:Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between",children:[Object(j.jsx)("div",{children:"".concat(a.properties[me]," - ").concat(a.properties[n.classProperty.name])}),Object(j.jsx)("div",{children:Object(j.jsx)(E.a,{variant:"light",size:"sm",className:"h-100 w-100 px-0 bg-transparent",as:"label",onClick:function(e){return function(e,t){e.stopPropagation(),console.log(t),Ne.eachLayer((function(e){t===e.feature.properties[me]&&Ne.removeLayer(e)})),c(le(t)),c(ie(null))}(e,a.properties[me])},children:Object(j.jsx)(be.a,{})})})]})},t)};delete ae.a.Icon.Default.prototype._getIconUrl,ae.a.Icon.Default.mergeOptions({iconRetinaUrl:a(265).default,iconUrl:a(266).default,shadowUrl:a(267).default});var ve=null,ge=null,ye=[],Ne=null,Se=function(e){return Ne=e},Ce=function(e){ve&&ge.current&&e.forEach((function(e){e.layer.addTo(ve),ge.current.addOverlay(e.layer,e.name),ye.push(e.layer)}))},Ae=function(){Ne&&ve&&ge.current&&(Ne.addTo(ve),ge.current.addOverlay(Ne,"samples"))},ke=function(e){ye.forEach((function(e){ge.current.removeLayer(e),ve.removeLayer(e)}))},Ie=function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];ve&&ve.panTo([a,n])};var _e=function(e){var t=Object(p.c)((function(e){return e.editing})),a=Object(p.b)(),c=function(e){a(F())},s=Object(n.useMemo)((function(){return Object(j.jsx)(E.a,{variant:t?"warning":"light",size:"sm",onClick:c,children:"Start Editing"})}),[t]);return Object(j.jsx)("div",{className:"leaflet-top start-50 top-0",children:Object(j.jsx)("div",{className:"leaflet-control leaflet-bar",children:s})})},Te=function(e){var t=e.info;return Object(j.jsx)("div",{className:"leaflet-bottom leaflet-left",children:Object(j.jsx)("div",{className:"leaflet-control leaflet-bar info-board",children:t})})},Le=function(e){var t=e.showEditControl,a=e.showInfoControl,c=e.info,s=Object(n.useRef)(),r=Object(p.c)((function(e){return e.samples}));return Object(n.useEffect)((function(){ge=s,setTimeout((function(){Ce(ye),Ae()}),400)}),[]),Object(n.useEffect)((function(){if(r.selected){var e=r.geojson.features.filter((function(e){return e.properties[me]===r.selected}))[0],t=Object(I.a)(e.geometry.coordinates).reverse();Ie(t)}}),[r.selected]),Object(n.useMemo)((function(){return Object(j.jsxs)(_.a,{center:[28.5973518,83.54495724],zoom:8,id:"map",whenCreated:function(e){ve=e},children:[Object(j.jsx)(T.a,{ref:s,children:Object.entries(H).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)(T.a.BaseLayer,{name:a,checked:"Google Maps"===a,children:Object(j.jsx)(L.a,{url:n.url,attribution:n.attribution})},a)}))}),t?Object(j.jsx)(_e,{}):null,a?Object(j.jsx)(Te,{info:c}):null]})}),[t,c])},we=a(302),Pe=a(301),Ee=a(141),Re=a(303),De=a(304),Ge=a(305),Ve=a(306),Me=a(143),He=a(35),Ue=a.n(He),Fe=a(11),Be=Object(h.b)({name:"dataset",initialState:{name:"COPERNICUS/S1_GRD",cloud:"15",feature:"VH",composite:"median",composite_days:"15",ascd:!1,desc:!0,boundary:"CHITAWAN",boundary_file:null,crop_mask:"projects/testee-319020/assets/terai_agri_mask"},reducers:{update:function(e,t){return Object(ne.a)(Object(ne.a)({},e),t.payload)},changeDataSource:function(e,t){var a=t.payload;return e.name=a,a in G.radar?e.feature="VH":a in G.optical&&(e.feature="NDVI",e.cloud="15"),e}}}),Ke=Be.actions,We=Ke.update,ze=Ke.changeDataSource,Je=Be.reducer;function qe(e){e.disabled;var t=Object(p.c)((function(e){return e.dataset})),a=Object(p.b)(),n=function(e,t){a(We(Object(Fe.a)({},e,t)))};return Object(j.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsx)("h6",{className:"m-0 p-0",children:"Satellite Dataset"})}),Object(j.jsxs)(Q.a.Body,{children:[Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_name",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Dataset"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Select,{onChange:function(e){a(ze(e.target.value))},value:t.name,children:Object.entries(G).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)("optgroup",{label:a,children:Object.entries(n).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)("option",{value:a,children:n},a)}))},a)}))})})]}),t.name in G.optical?Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_cloud",className:"align-items-center mb-2",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:"auto",children:"Cloud cover (%)"}),Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Y.a.Control,{type:"number",min:"0",max:"100",step:"1",value:t.cloud,onChange:function(e){return n("cloud",e.target.value)}})})]}):null,Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_orbit",className:"mb-2",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Orbit"}),Object(j.jsxs)(Ee.a,{xs:8,children:[Object(j.jsx)(Y.a.Check,{type:"checkbox",id:"desc",name:"desc",label:"Descending",checked:t.desc,onChange:function(e){return n("desc",e.target.checked)}}),Object(j.jsx)(Y.a.Check,{type:"checkbox",id:"ascd",name:"ascd",label:"Ascending",checked:t.ascd,onChange:function(e){return n("ascd",e.target.checked)}})]})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_feature",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Feature"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Select,{onChange:function(e){return n("feature",e.target.value)},value:t.feature,children:t.name in G.radar?Object.entries(V).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)("option",{value:a,children:n},a)})):Object.entries(M).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)("option",{value:a,children:n},a)}))})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_composite",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Composite Type"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Select,{onChange:function(e){return n("composite",e.target.value)},value:t.composite,children:["minimum","maximum","median","mean","mode"].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_composite_days",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Composite Days"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"number",onChange:function(e){return n("composite_days",e.target.value)},value:t.composite_days})})]})]})]})}var Xe=function(e){var t=Object(p.c)((function(e){return e.dataset})),a=Object(p.b)(),n=function(e,t){a(We(Object(Fe.a)({},e,t)))};return Object(j.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsx)("h6",{class:"m-0 p-0",children:"Auxiliary Datasets"})}),Object(j.jsxs)(Q.a.Body,{children:[Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_boundary",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Boundary"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Select,{onChange:function(e){return n("boundary",e.target.value)},value:t.boundary,children:Object.entries(D).map((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)("option",{value:a,children:n},a)}))})})]}),"upload"===t.boundary?Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_boundary_file",className:"align-items-center mb-2",children:[Object(j.jsxs)(Y.a.Label,{column:!0,xs:4,children:["Boundary file ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"file",className:"w-100 form-control",required:!0,name:"boundary_file",onChange:function(e){return n("boundary_file",URL.createObjectURL(e.target.files[0]))}})})]}):null,Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"dataset_cropmask",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Crop Mask (GEE asset)"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"text",onChange:function(e){return n("crop_mask",e.target.value)},value:t.crop_mask})})]})]})]})},Qe={sowing:"sowing",peak:"peak",harvesting:"harvesting"},Ye=Object.fromEntries(Object.keys(Qe).map((function(e){return[e,{on:!0,start:"",end:"",min:"",max:""}]}))),$e=Object.fromEntries(Object.keys(Qe).map((function(e){return[e,function(t,a){return t[e]=Object(ne.a)(Object(ne.a)({},t[e]),a.payload),t}]}))),Ze=Object(h.b)({name:"seasons",initialState:Ye,reducers:$e}),et=Ze.actions,tt=Ze.reducer,at=function(e){var t=e.name,a=e.inputThres,n=e.readOnly,c=(Object(p.c)((function(e){return e.appName})),Object(p.c)((function(e){return e.seasons[t]}))),s=(Object(p.c)((function(e){return e.samples})),Object(p.b)()),r=et[t],l=function(e,t){s(r(Object(Fe.a)({},e,t)))};return Object(j.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(j.jsxs)(Pe.a,{className:"align-items-center gx-2 m-0 card-header",children:[Object(j.jsx)(Ee.a,{xs:"auto",children:Object(j.jsx)(Y.a.Check,{type:"switch",id:"".concat(t,"_switch"),"aria-label":t,checked:c.on,onChange:function(e){return l("on",e.target.checked)}})}),Object(j.jsx)(Ee.a,{xs:"auto",children:Object(j.jsx)("h6",{className:"m-0",children:t.charAt(0).toUpperCase()+t.slice(1)})})]}),Object(j.jsx)("fieldset",{id:"".concat(t,"_fields"),disabled:!c.on,children:Object(j.jsxs)(Q.a.Body,{children:[Object(j.jsxs)(Y.a.Group,{as:Pe.a,className:"mb-2",controlId:"".concat(t,"_start_fields"),children:[Object(j.jsxs)(Y.a.Label,{column:!0,sm:4,children:["Start date ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(Ee.a,{sm:8,children:Object(j.jsx)(Y.a.Control,{type:"date",required:!0,readOnly:n,name:"".concat(t,"_start"),value:c.start,onChange:function(e){return l("start",e.target.value)}})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,className:"mb-2",controlId:"".concat(t,"_end_fields"),children:[Object(j.jsxs)(Y.a.Label,{column:!0,sm:4,children:["End date ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(Ee.a,{sm:8,children:Object(j.jsx)(Y.a.Control,{type:"date",required:!0,readOnly:n,name:"".concat(t,"_end"),value:c.end,onChange:function(e){return l("end",e.target.value)}})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,className:"mb-2",children:[Object(j.jsxs)(Y.a.Label,{column:!0,sm:4,children:["Threshold ",a?Object(j.jsx)("span",{style:{color:"red"},children:"*"}):null]}),Object(j.jsx)(Ee.a,{sm:8,children:Object(j.jsxs)(Pe.a,{className:"gx-1 align-items-center",children:[Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Y.a.Control,{type:"number",required:a,readOnly:!a||n,id:"".concat(t,"_min"),placeholder:"min",step:"0.01",name:"".concat(t,"_min"),value:c.min,onChange:function(e){return l("min",e.target.value)}})}),Object(j.jsx)(Ee.a,{sm:"auto",children:"\u2264 x \u2264"}),Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Y.a.Control,{type:"number",required:a,readOnly:!a||n,id:"".concat(t,"_max"),placeholder:"max",step:"0.01",name:"".concat(t,"_max"),value:c.max,onChange:function(e){return l("max",e.target.value)}})})]})})]})]})})]})},nt="Datasets",ct="Seasons",st=function(e){var t=e.setInfo,a=Object(p.c)((function(e){return e.csrfToken})),c=Object(p.c)((function(e){return e.dataset})),s=Object(p.c)((function(e){return e.seasons})),r=(Object(p.c)((function(e){return e.editing})),Object(p.b)(),Object(n.useState)(!1)),l=Object(S.a)(r,2),i=l[0],o=l[1],u=Object(n.useState)(!1),b=Object(S.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)({}),f=Object(S.a)(O,2);f[0],f[1];return Object(j.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(j.jsx)(Y.a,{method:"POST",onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void o(!0);o(!1);var n=new FormData,r={};R.forEach((function(e){s[e].on&&(r[e]=P.a.cloneDeep(s[e]),delete r[e].on)})),r.dataset=P.a.cloneDeep(c),r.dataset.boundary_file&&(n.append("boundary_file",r.dataset.boundary_file),delete r.dataset.boundary_file),n.append("json",new Blob([JSON.stringify(r)],{type:"application/json"})),Ue.a.post("empirical/",n,{baseURL:"",headers:{"X-CSRFToken":a}}).then((function(e){var a=e.data,n=[];Object.keys(a).forEach((function(e){var c={layer:new ae.a.TileLayer(a[e].tile_url),name:e,url:a[e].download_url};n.push(c),a[e].area&&t("Rice area: "+a[e].area.toFixed(3)+" ha")})),Ce(n),m(!1)})).catch((function(e){m(!1),alert(e)})),m(!0),ke()},noValidate:!0,validated:i,children:Object(j.jsxs)(we.a,{defaultActiveKey:nt,unmountOnExit:!1,children:[Object(j.jsx)(Pe.a,{className:"tabs-nav g-0",children:Object(j.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:nt,children:nt})}),Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:ct,children:ct})})]})}),Object(j.jsx)(Pe.a,{className:"tabs-content g-0 p-2",children:Object(j.jsx)(Ee.a,{children:Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(De.a,{eventKey:nt,children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)(qe,{}),Object(j.jsx)(Xe,{})]})}),Object(j.jsxs)(De.a,{eventKey:ct,children:[R.map((function(e){return Object(j.jsx)(at,{name:e,inputThres:!0,readOnly:h},e)})),Object(j.jsxs)("div",{className:"d-grid gap-2",children:[Object(j.jsx)(E.a,{type:"submit",variant:h?"secondary":"primary",disabled:h,children:h?Object(j.jsxs)("div",{children:["Running...",Object(j.jsx)(Ge.a,{as:"span",animation:"border",size:"sm",role:"status"})]}):"Run"}),Object(j.jsxs)(Ve.a,{id:"export-dropdown",title:"Export",onSelect:function(e,t){},children:[Object(j.jsx)(Me.a.Item,{eventKey:"season",children:"Export each season"}),Object(j.jsx)(Me.a.Item,{eventKey:"combined",children:"Export combined"})]})]})]})]})})})]})})})};var rt=0;var lt=function(e){var t=e.className,a=e.leftPanel,c=e.rightPanel,s=Object(n.useRef)(),r=Object(n.useRef)(),l=function(e){1===rt?s.current.style.flexBasis=Math.min(Number.parseInt(e.clientX),document.body.clientWidth-10)+"px":i()},i=function e(t){rt=0,document.body.removeEventListener("mouseup",e),document.body.removeEventListener("mousemove",l)};return Object(j.jsxs)("div",{className:"h-100 "+t,style:{display:"flex"},children:[Object(j.jsx)("div",{className:"left-panel h-100",ref:s,children:a}),Object(j.jsx)("div",{className:"panel-separator",onMouseDown:function(e){rt=1,document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",i)}}),Object(j.jsx)("div",{className:"right-panel h-100 w-100",ref:r,children:c})]})},it=Object(h.b)({name:"csrfToken",initialState:null,reducers:{setToken:function(e,t){return t.payload}}}),ot=it.actions.setToken,dt=it.reducer;var ut=function(){var e=Object(p.b)(),t=Object(n.useState)("Please run the app to show area of rice."),a=Object(S.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){e(g(O))}),[]),Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(k,{}),Object(j.jsx)(lt,{className:"app-main",leftPanel:Object(j.jsx)(st,{setInfo:s}),rightPanel:Object(j.jsx)(Le,{showInfoControl:!0,info:c})})]})},jt=(a(286),a(307)),bt={Jan:null,Feb:null,Mar:null,Apr:null,May:null,Jun:null,Jul:null,Aug:null,Sep:null,Oct:null,Nov:null,Dec:null},pt=function(e){var t=e.month,a=e.point;return Object(j.jsxs)(_.a,{center:a||[28.5973518,83.54495724],zoom:15,className:"small-map",zoomControl:!1,whenCreated:function(e){return bt[t]=e},children:[Object(j.jsx)(L.a,{url:H["Google Satellite"].url,attribution:H["Google Satellite"].attribution}),a&&Object(j.jsx)(jt.a,{position:a})]})},ht=function(e){var t=Object(p.c)((function(e){return e.samples})),a=t.geojson.features.filter((function(e){return e.properties[me]===t.selected}))[0];e.date_start,e.date_end;return Object(n.useEffect)((function(){Ue.a.get("phenology/monthly_composite",{baseURL:"",params:{year:2019}}).then((function(e){var t=e.data;Object.keys(bt).forEach((function(e){var a=t[e];new ae.a.TileLayer(a).addTo(bt[e])}))}))}),[]),Object(n.useEffect)((function(){t.selected&&Object.values(bt).forEach((function(e){e.panTo([a.geometry.coordinates[1],a.geometry.coordinates[0]])}))}),[t.selected]),Object(j.jsx)("div",{className:"map-carousel h-100 d-flex overflow-auto",children:Object.keys(bt).map((function(e){return Object(j.jsxs)("div",{className:"p-1 d-flex flex-column",style:{width:250,flex:"0 0 auto"},children:[Object(j.jsx)("div",{children:e}),Object(j.jsx)(pt,{point:a&&Object(I.a)(a.geometry.coordinates).reverse(),month:e})]})}))})};function mt(e){var t=e.showEditControl,a=e.showInfoControl,n=e.info;return Object(j.jsxs)("div",{className:"w-100 h-100 d-flex flex-column",children:[Object(j.jsx)("div",{className:"map-container",children:Object(j.jsx)(Le,{showEditControl:t,showInfoControl:a,info:n})}),Object(j.jsx)("div",{className:"map-carousel-container",children:Object(j.jsx)(ht,{})})]})}var Ot=a(108),ft="Datasets",xt="Seasons";function vt(e){var t=Object(p.c)((function(e){return e.csrfToken})),a=Object(p.c)((function(e){return e.dataset})),c=Object(p.c)((function(e){return e.seasons})),s=Object(p.c)((function(e){return e.samples})),r=Object(p.c)((function(e){return e.editing})),l=Object(p.b)(),i=Object(n.useState)(!1),o=Object(S.a)(i,2),u=o[0],b=o[1],h=Object(n.useState)(!1),m=Object(S.a)(h,2),O=m[0],f=m[1];return Object(j.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(j.jsxs)(we.a,{defaultActiveKey:ft,unmountOnExit:!1,children:[Object(j.jsx)(Pe.a,{className:"tabs-nav g-0",children:Object(j.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:ft,children:ft})}),Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:xt,children:xt})})]})}),Object(j.jsx)(Pe.a,{className:"tabs-content g-0 p-2",children:Object(j.jsx)(Ee.a,{children:Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(De.a,{eventKey:ft,children:Object(j.jsxs)(Y.a,{method:"POST",noValidate:!0,validated:O,onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void f(!0);f(!1);var n={};n.dataset=P.a.cloneDeep(a),delete n.dataset.boundary_file;var c=P.a.cloneDeep(s.geojson);c.features.forEach((function(e){Object.keys(e.properties).forEach((function(t){t.endsWith("_feature")&&delete e.properties[t]}))})),n.samples=c,Ue.a.post("phenology/",n,{baseURL:"",headers:{"X-CSRFToken":t}}).then((function(e){e.data.features.forEach((function(e){c.features.filter((function(t){return t.properties[me]===e.properties[me]}))[0].properties=e.properties})),l(re(c)),b(!1)})).catch((function(e){b(!1),alert(e)})),b(!0)},children:[Object(j.jsx)(qe,{}),Object(j.jsx)(E.a,{className:"w-100",type:"submit",variant:u?"secondary":"primary",disabled:u,children:u?Object(j.jsxs)("div",{children:["Running...",Object(j.jsx)(Ge.a,{as:"span",animation:"border",size:"sm",role:"status"})]}):"Save settings"})]})}),Object(j.jsxs)(De.a,{eventKey:xt,children:[R.map((function(e){return Object(j.jsx)(at,{name:e,inputThres:!1,readOnly:r},e)})),Object(j.jsx)(E.a,{className:"w-100",onClick:function(e){0!==s.geojson.features.length?Object.keys(c).forEach((function(e){var t=c[e];if(t.on){var a=new Date(t.start),n=new Date(t.end),r=[];if(s.geojson.features.forEach((function(e){e.properties[s.classProperty.name]===s.classProperty.positiveValue&&Object.entries(e.properties).forEach((function(e){var t=Object(S.a)(e,2),c=t[0],s=t[1];if(c.endsWith("_feature")){var l=c.split("_"),i=new Date(Number.parseInt(l[l.length-2])).getTime();a.getTime()<=i&&i<=n.getTime()&&r.push(s)}}))})),0===r.length)return;var i=function(e){var t=Ot.a(e,.25),a=Ot.a(e,.75),n=a-t,c=a+1.5*n,s=t-1.5*n;return e.filter((function(e){return e>s&&e<c}))}(r),o=P.a.sum(i)/i.length,d=Math.sqrt(P.a.sum(P.a.map(i,(function(e){return Math.pow(e-o,2)})))/i.length),u=et[e];l(u({min:(o-d).toFixed(2),max:(o+d).toFixed(2)}))}})):alert("Please upload the ground truth samples first.")},children:"Refresh"})]})]})})})]})})}function gt(){var e=Object(p.b)();return Object(n.useEffect)((function(){e(g(f))}),[]),Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(k,{}),Object(j.jsx)(o.a,{fluid:!0,className:"h-100 app-main pb-0 ps-0 pe-0",children:Object(j.jsxs)(Pe.a,{className:"h-100 gx-0",children:[Object(j.jsx)(Ee.a,{children:Object(j.jsx)(vt,{})}),Object(j.jsx)(Ee.a,{xs:"7",children:Object(j.jsx)(mt,{showEditControl:!1,showInfoControl:!1})}),Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Oe,{})})]})})]})}var yt=a(310),Nt=a(144),St={"Random Forest":{numberOfTrees:{type:"int",required:!0,default:200,description:"The number of decision trees to create."},variablesPerSplit:{type:"int",default:null,description:"The number of variables per split. If unspecified, uses the square root of the number of variables."},minLeafPopulation:{type:"int",default:1,description:"Only create nodes whose training set contains at least this many points."},bagFraction:{type:"float",default:.5,description:"The fraction of input to bag per tree."},maxNodes:{type:"int",default:null,description:"The maximum number of leaf nodes in each tree. If unspecified, defaults to no limit."},seed:{type:"int",default:0,description:"The randomization seed."}},"Gradient Tree Boost":{}},Ct=Object(h.b)({name:"classification",initialState:{start_date:null,end_date:null,training_ratio:.7,model:"",model_specs:{}},reducers:{update:function(e,t){return Object(ne.a)(Object(ne.a)({},e),t.payload)},updateModelSpecs:function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{model_specs:Object(ne.a)(Object(ne.a)({},e.model_specs),t.payload)})},changeModel:function(e,t){t.payload&&t.payload!==e.model&&(e.model_specs={},Object.keys(St[t.payload]).forEach((function(a){"default"in St[t.payload][a]?e.model_specs[a]=St[t.payload][a].default:e.model_specs[a]=null}))),e.model=t.payload}}}),At=Ct.actions,kt=At.update,It=At.updateModelSpecs,_t=At.changeModel,Tt=Ct.reducer,Lt=a(308),wt="Datasets",Pt="Samples",Et="Classification",Rt=function(e){var t=e.setInfo,a=Object(p.c)((function(e){return e.csrfToken})),c=Object(p.c)((function(e){return e.dataset})),s=Object(p.c)((function(e){return e.classification})),r=Object(p.c)((function(e){return e.samples})),l=Object(p.b)(),i=Object(n.useState)(!1),o=Object(S.a)(i,2),u=o[0],b=o[1],h=Object(n.useState)(!1),m=Object(S.a)(h,2),O=(m[0],m[1]),f=Object(n.useState)({}),x=Object(S.a)(f,2),v=(x[0],x[1],function(e,t){"model"===e?l(_t(t)):e.startsWith("model")?l(It(Object(Fe.a)({},e.split(".")[1],t))):l(kt(Object(Fe.a)({},e,t)))});return Object(j.jsx)("div",{className:"sidebar h-100 flex-column",children:Object(j.jsx)(Y.a,{method:"POST",onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),void b(!0);b(!1);var n=new FormData,l={};l.dataset=P.a.cloneDeep(c),l.dataset.boundary_file&&(n.append("boundary_file",l.dataset.boundary_file),delete l.dataset.boundary_file),l.classification=P.a.cloneDeep(s),l.classification.class_property=r.classProperty;var i=l.classification.model_specs;for(var o in i)null===i[o]&&delete i[o];n.append("json",new Blob([JSON.stringify(l)],{type:"application/json"})),0!==r.geojson.features.length&&n.append("samples",new Blob([JSON.stringify(r.geojson)],{type:"application/json"})),Ue.a.post("classification/",n,{baseURL:"",headers:{"X-CSRFToken":a}}).then((function(e){var a=e.data,n=[];Object.keys(a).forEach((function(e){var c={layer:new ae.a.TileLayer(a[e].tile_url),name:e,url:a[e].download_url};n.push(c),a[e].area&&t("Rice area: "+a[e].area.toFixed(3)+" ha")})),Ce(n),O(!1)})).catch((function(e){O(!1),alert(e)})),O(!0),ke()},noValidate:!0,validated:u,children:Object(j.jsxs)(we.a,{defaultActiveKey:wt,unmountOnExit:!1,children:[Object(j.jsx)(Pe.a,{className:"tabs-nav g-0",children:Object(j.jsxs)(d.a,{variant:"pills",className:"h-100",children:[Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle w-100 h-100 h6",eventKey:wt,children:wt})}),Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:Pt,children:Pt})}),Object(j.jsx)(Ee.a,{className:"h-100 align-items-center p-1",children:Object(j.jsx)(d.a.Link,{className:"tab-title align-middle h-100 w-100 h6",eventKey:Et,children:Et})})]})}),Object(j.jsx)(Pe.a,{className:"tabs-content g-0 p-2",children:Object(j.jsx)(Ee.a,{children:Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(De.a,{eventKey:wt,children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)(qe,{}),Object(j.jsx)(Xe,{})]})}),Object(j.jsx)(De.a,{eventKey:Pt,children:Object(j.jsx)(fe,{})}),Object(j.jsxs)(De.a,{eventKey:Et,children:[Object(j.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsx)("h6",{className:"m-0 p-0",children:"Image Date Range"})}),Object(j.jsxs)(Q.a.Body,{children:[Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"date_start",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Start Date:"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"date",value:s.start_date,onChange:function(e){return v("start_date",e.target.value)}})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"date_end",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"End Date:"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"date",value:s.end_date,onChange:function(e){return v("end_date",e.target.value)}})})]})]})]}),Object(j.jsxs)(Q.a,{className:"mb-2 border-secondary",children:[Object(j.jsx)(Q.a.Header,{children:Object(j.jsx)("h6",{className:"m-0 p-0",children:"Classification Details"})}),Object(j.jsxs)(Q.a.Body,{children:[Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"train_test_ratio",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Training Ratio:"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsx)(Y.a.Control,{type:"number",step:"0.05",value:s.training_ratio,onChange:function(e){return v("training_ratio",e.target.value)}})})]}),Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:"model",className:"mb-2 align-items-center",children:[Object(j.jsx)(Y.a.Label,{column:!0,xs:4,children:"Model:"}),Object(j.jsx)(Ee.a,{xs:8,children:Object(j.jsxs)(Y.a.Select,{value:s.model,onChange:function(e){return v("model",e.target.value)},children:[Object(j.jsx)("option",{},""),Object.keys(St).map((function(e){return Object(j.jsx)("option",{children:e},e)}))]})})]}),s.model&&Object.keys(St[s.model]).map((function(e){return Object(j.jsx)(Dt,{specName:e,handleChange:v})}))]})]}),Object(j.jsx)(E.a,{className:"w-100",type:"submit",children:"Run"})]})]})})})]})})})},Dt=function(e){var t=e.specName,a=e.handleChange,n=Object(p.c)((function(e){return e.classification})),c=n.model,s=function(e){a("model.".concat(t),e.target.value)};return Object(j.jsxs)(Y.a.Group,{as:Pe.a,controlId:t,className:"mb-2 align-items-center",children:[Object(j.jsxs)(Y.a.Label,{column:!0,xs:4,children:[t,"  ",Object(j.jsx)(yt.a,{trigger:"hover",placement:"right",overlay:Object(j.jsx)(Nt.a,{children:Object(j.jsx)(Nt.a.Body,{children:St[c][t].description})}),children:Object(j.jsx)(Lt.a,{})})]}),Object(j.jsx)(Ee.a,{xs:8,children:function(){switch(St[c][t].type){case"int":return Object(j.jsx)(Y.a.Control,{type:"number",placeholder:"Leave blank to use default value",step:"1",value:n.model_specs[t],onChange:s});case"float":return Object(j.jsx)(Y.a.Control,{type:"number",placeholder:"Leave blank to use default value",step:"0.1",value:n.model_specs[t],onChange:s});case"string":return Object(j.jsx)(Y.a.Control,{type:"text",value:n.model_specs[t],onChange:s});case"select":return Object(j.jsx)(Y.a.Select,{value:n.model_specs[t],onChange:s,children:St[c][t].options.map((function(e){return Object(j.jsx)("option",{children:e},e)}))});default:return Object(j.jsx)(j.Fragment,{})}}()})]})};function Gt(){var e=Object(p.b)(),t=Object(n.useState)("Please run the app to show area of rice."),a=Object(S.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){e(g(x))}),[]),Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(k,{}),Object(j.jsx)(lt,{className:"app-main",leftPanel:Object(j.jsx)(Rt,{setInfo:s}),rightPanel:Object(j.jsx)(Le,{showInfoControl:!0,info:c})})]})}var Vt=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){var t=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=a[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrftoken");e(ot(t))}),[]),Object(j.jsxs)("div",{className:"d-flex flex-column vh-100",children:[Object(j.jsx)(b,{}),Object(j.jsx)("main",{className:"h-100",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",children:Object(j.jsx)(N,{})}),Object(j.jsx)(l.a,{exact:!0,path:"/empirical",children:Object(j.jsx)(ut,{})}),Object(j.jsx)(l.a,{exact:!0,path:"/phenology",children:Object(j.jsx)(gt,{})}),Object(j.jsx)(l.a,{exact:!0,path:"/classification",children:Object(j.jsx)(Gt,{})})]})})]})},Mt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,316)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},Ht=(a(287),Object(h.a)({reducer:{csrfToken:dt,dataset:Je,seasons:tt,samples:de,editing:B,appStatus:A,appName:y,classification:Tt}}));r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(u.a,{basename:"",children:Object(j.jsx)(p.a,{store:Ht,children:Object(j.jsx)(Vt,{})})})}),document.getElementById("root")),Mt()}},[[289,1,2]]]);
//# sourceMappingURL=main.82c7f2c7.chunk.js.map